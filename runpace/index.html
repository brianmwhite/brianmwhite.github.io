<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" href="./apple-touch-icon.png">
    <title>RunCalc</title>
    <style>
        label {
            margin: 0 0 5px 0 !important;
            padding: 0px !important;
        }

        label {
            width: 150px;
            font-size: x-large;
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>

<body>
    <script type="text/javascript" src="./calc.js"></script>
    <fieldset>
        <div><label>Pace:<input type="number" inputmode="decimal" id="pace" name="pace"
                    pattern="^[0-9]+(?:\.[0-9]{2})?$" autofocus /></label></div>
        <!-- <div><label>Avg. Pace/MI:<input type="text" id="avgpacemi" name="avgpacemi" /></label></div> -->
        <div><label>Avg. Pace/KM:<input type="text" id="avgpacekm" name="avgpacekm" /></label></div>
        <div><label>5K / 10k Total:<input type="text" id="total5k" name="total5k" /></label></div>
        <!-- <div><label>10K Total:<input type="text" id="total10k" name="total10k" /></label></div> -->
        <div><label>5k in <span id="targetTimeUp"></span>m:<input type="text" id="target5kpaceUp"
                    name="target5kpaceDown" /></label></div>
        <div><label>5k in <span id="targetTimeDown"></span>m:<input type="text" id="target5kpaceDown"
                    name="target5kpaceDown" /></label></div>
    </fieldset>
    <script>
        const input = document.getElementById("pace");
        input.addEventListener("input", function (event) {
            const pace = input.value;
            let calc = new PaceCalc(pace);

            // document.getElementById("avgpacemi").value = calc.MinutesPerMileOriginal;
            document.getElementById("avgpacekm").value = calc.MinutesPerKilometerFormatted;
            document.getElementById("total5k").value = calc.Estimated5KTotalTimeFormatted + " / " + calc.Estimated10TotalTimeFormatted;

            const TargetMinutesUp = PaceCalc.RoundUpToNearest(calc.Estimated5KTotalTimeMinutesDecimal, 0.5);
            const TargetMinutesDown = PaceCalc.RoundDownToNearest(calc.Estimated5KTotalTimeMinutesDecimal, 0.5);

            document.getElementById("targetTimeUp").textContent = TargetMinutesUp;
            document.getElementById("target5kpaceUp").value = PaceCalc.calcPaceFromTotalTime(TargetMinutesUp * 60, 5);

            document.getElementById("targetTimeDown").textContent = TargetMinutesDown;
            document.getElementById("target5kpaceDown").value = PaceCalc.calcPaceFromTotalTime(TargetMinutesDown * 60, 5);
        });
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yegor256/tacit@gh-pages/tacit-css-1.5.5.min.css" />
</body>

</html>